<div id="organize" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Begin MailChimp Signup Form -->


                <div id="mc_embed_signup organize-form">
                    <form action="http://attheforkfilm.us12.list-manage.com/subscribe/post-json?u=17f4bc7b5cc2e5bbe32e86a98&amp;id=45890a23da" method="get" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" novalidate>
                        <div id="mc_embed_signup_scroll">
                            <h2>Subscribe to our mailing list</h2>
                            <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                            <div class="mc-field-group form-group">
                                <label for="mce-EMAIL">Email Address <span class="asterisk">*</span>
                                </label>
                                <input type="email" value="" name="EMAIL" class="form-control required email" id="mce-EMAIL">
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-FNAME">First Name </label>
                                <input type="text" value="" name="FNAME" class="form-control" id="mce-FNAME">
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-LNAME">Last Name </label>
                                <input type="text" value="" name="LNAME" class="form-control" id="mce-LNAME">
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-ZIP">Zip Code </label>
                                <input type="text" value="" name="ZIP" class="form-control" id="mce-ZIP">
                            </div>
                            <div class="mc-field-group size1of2 form-group">
                                <label for="mce-PHONENUM">Phone Number </label>
                                <input type="text" name="PHONENUM" class="" value="form-control" id="mce-PHONENUM">
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-STATE">State </label>
                                <select name="STATE" class="form-control" id="mce-STATE">
                                    <option value=""></option>
                                    <option value="Alabama">Alabama</option>
                                    <option value="Alaska">Alaska</option>
                                    <option value="Arizona">Arizona</option>
                                    <option value="Arkansas">Arkansas</option>
                                    <option value="California">California</option>
                                    <option value="Colorado">Colorado</option>
                                    <option value="Connecticut">Connecticut</option>
                                    <option value="Delaware">Delaware</option>
                                    <option value="Florida">Florida</option>
                                    <option value="Georgia">Georgia</option>
                                    <option value="Hawaii">Hawaii</option>
                                    <option value="Idaho">Idaho</option>
                                    <option value="Illinois">Illinois</option>
                                    <option value="Indiana">Indiana</option>
                                    <option value="Iowa">Iowa</option>
                                    <option value="Kansas">Kansas</option>
                                    <option value="Kentucky">Kentucky</option>
                                    <option value="Louisiana">Louisiana</option>
                                    <option value="Maine">Maine</option>
                                    <option value="Maryland">Maryland</option>
                                    <option value="Massachusetts">Massachusetts</option>
                                    <option value="Michigan">Michigan</option>
                                    <option value="Minnesota">Minnesota</option>
                                    <option value="Mississippi">Mississippi</option>
                                    <option value="Missouri">Missouri</option>
                                    <option value="Montana">Montana</option>
                                    <option value="Nebraska">Nebraska</option>
                                    <option value="Nevada">Nevada</option>
                                    <option value="New Hampshire">New Hampshire</option>
                                    <option value="New Jersey">New Jersey</option>
                                    <option value="New Mexico">New Mexico</option>
                                    <option value="New York">New York</option>
                                    <option value="North Carolina">North Carolina</option>
                                    <option value="North Dakota">North Dakota</option>
                                    <option value="Ohio">Ohio</option>
                                    <option value="Oklahoma">Oklahoma</option>
                                    <option value="Oregon">Oregon</option>
                                    <option value="Pennsylvania">Pennsylvania</option>
                                    <option value="Rhode Island">Rhode Island</option>
                                    <option value="South Carolina">South Carolina</option>
                                    <option value="South Dakota">South Dakota</option>
                                    <option value="Tennessee">Tennessee</option>
                                    <option value="Texas">Texas</option>
                                    <option value="Utah">Utah</option>
                                    <option value="Vermont">Vermont</option>
                                    <option value="Virginia">Virginia</option>
                                    <option value="Washington">Washington</option>
                                    <option value="Washington D.C.">Washington D.C.</option>
                                    <option value="West Virginia">West Virginia</option>
                                    <option value="Wisconsin">Wisconsin</option>
                                    <option value="Wyoming">Wyoming</option>

                                </select>
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-MONTH">Month </label>
                                <select name="MONTH" class="form-control" id="mce-MONTH">
                                    <option value=""></option>
                                    <option value="January">January</option>
                                    <option value="February">February</option>
                                    <option value="March">March</option>
                                    <option value="April">April</option>
                                    <option value="May">May</option>
                                    <option value="June">June</option>
                                    <option value="July">July</option>
                                    <option value="August">August</option>
                                    <option value="September">September</option>
                                    <option value="October">October</option>
                                    <option value="November">November</option>
                                    <option value="December">December</option>

                                </select>
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-VENUE">Screening Venue </label>
                                <select name="VENUE" class="form-control" id="mce-VENUE">
                                    <option value=""></option>
                                    <option value="I'm Not Sure">I'm Not Sure</option>
                                    <option value="Local Theater">Local Theater</option>
                                    <option value="Community, Company or Organization">Community, Company or Organization</option>
                                    <option value="School, University or Library">School, University or Library</option>

                                </select>
                            </div>
                            <div class="mc-field-group form-group">
                                <label for="mce-OTHER">Anything Else? </label>
                                <input type="text" value="" name="OTHER" class="form-control" id="mce-OTHER">
                            </div>
                            <div class="mc-field-group input-group form-group">
                                <strong>Interested In </strong>
                                <ul>
                                    <li>
                                        <input type="checkbox" value="1" name="group[6697][1]" id="mce-group[6697]-6697-0">
                                        <label for="mce-group[6697]-6697-0">Screenings</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" value="2" name="group[6697][2]" id="mce-group[6697]-6697-1">
                                        <label for="mce-group[6697]-6697-1">The At the Fork Challenge</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" value="4" name="group[6697][4]" id="mce-group[6697]-6697-2">
                                        <label for="mce-group[6697]-6697-2">Partnering with At the Fork</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" value="8" name="group[6697][8]" id="mce-group[6697]-6697-3">
                                        <label for="mce-group[6697]-6697-3">Hosting a Screening</label>
                                    </li>
                                </ul>
                            </div>
                            <div id="mce-responses" class="clear">
                                <div class="response" id="mce-error-response" style="display:none"></div>
                                <div class="response" id="mce-success-response" style="display:none"></div>
                            </div>
                            <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                            <div style="position: absolute; left: -5000px;" aria-hidden="true">
                                <input type="text" name="b_17f4bc7b5cc2e5bbe32e86a98_45890a23da" tabindex="-1" value="">
                            </div>
                            <div class="clear">
                                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                            </div>
                        </div>
                    </form>
                </div>

                <!--End mc_embed_signup-->
                <div style="display:none;" id="success-message">
                    YAS
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function(){
        ajaxMailChimpForm($("#organize-form"), $("#success-message"));
        // Turn the given MailChimp form into an ajax version of it.
        // If resultElement is given, the subscribe result is set as html to
        // that element.
        function ajaxMailChimpForm($form, $resultElement){
            // Hijack the submission. We'll submit the form manually.
            $form.submit(function(e) {
                e.preventDefault();
                if (!isValidEmail($form)) {
                    var error =  "A valid email address must be provided.";
                    $resultElement.html(error);
                    $resultElement.css("color", "red");
                } else {
                    $resultElement.css("color", "black");
                    $resultElement.html("Subscribing...");
                    submitSubscribeForm($form, $resultElement);
                }
            });
        }
        // Validate the email address in the form
        function isValidEmail($form) {
            // If email is empty, show error message.
            // contains just one @
            var email = $form.find("input[type='email']").val();
            if (!email || !email.length) {
                return false;
            } else if (email.indexOf("@") == -1) {
                return false;
            }
            return true;
        }
        // Submit the form with an ajax/jsonp request.
        // Based on http://stackoverflow.com/a/15120409/215821
        function submitSubscribeForm($form, $resultElement) {
            $.ajax({
                type: "GET",
                url: $form.attr("action"),
                data: $form.serialize(),
                cache: false,
                dataType: "jsonp",
                jsonp: "c", // trigger MailChimp to return a JSONP response
                contentType: "application/json; charset=utf-8",
                error: function(error){
                    // According to jquery docs, this is never called for cross-domain JSONP requests
                },
                success: function(data){
                    if (data.result != "success") {
                        var message = data.msg || "Sorry. Unable to subscribe. Please try again later.";
                        $resultElement.css("color", "red");
                        if (data.msg && data.msg.indexOf("already subscribed") >= 0) {
                            message = "You're already subscribed. Thank you.";
                            $resultElement.css("color", "black");
                        }
                        $resultElement.html(message);
                    } else {
                        $resultElement.css("color", "black");
                        $resultElement.html("Thank you!<br>You must confirm the subscription in your inbox.");
                    }
                }
            });
        }
    });
</script>
